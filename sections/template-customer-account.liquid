<div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-6xl mx-auto space-y-10">

    <!-- HEADER -->
    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center">
      <div>
        <h1 class="text-3xl font-bold text-gray-900">My Account</h1>
        <p class="text-gray-500 mt-2">Welcome back, {{ customer.first_name }} ðŸ‘‹</p>
      </div>

    </div>
    <br>

    <!-- ACCOUNT DETAILS -->
    <section class="bg-white shadow-sm rounded-xl border border-gray-100 p-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">Account Details</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-gray-600 text-sm">
        <p><span class="font-medium text-gray-900">Name:</span> {{ customer.first_name }} {{ customer.last_name }}</p>
        <p><span class="font-medium text-gray-900">Email:</span> {{ customer.email }}</p>
      </div>
      <div class="mt-4 border-t pt-4">
        <h3 class="text-md font-semibold text-gray-800 mb-2">Default Address</h3>
        {% if customer.default_address %}
          <p class="text-sm text-gray-600">{{ customer.default_address | format_address }}</p>
        {% else %}
          <p class="text-sm text-gray-500">No address available.</p>
        {% endif %}
        <a href="{{ routes.account_addresses_url }}" class="inline-block mt-3 text-sm text-blue-600 hover:text-blue-800 underline">
          Manage Addresses â†’
        </a>
      </div>
    </section>
    <br>

    <!-- ORDER HISTORY -->
    <section class="bg-white shadow-sm rounded-xl border border-gray-100 p-6">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-semibold text-gray-800">Order History</h2>
        <span class="text-sm text-gray-500">
          {% assign number_of_orders = customer.orders | size %}
          ({{ number_of_orders }} total)
        </span>
      </div>

      {% if customer.orders.size > 0 %}
        {% paginate customer.orders by 5 %}
          <div class="divide-y divide-gray-100">
            {% for order in customer.orders %}
              <div class="py-6 flex flex-col sm:flex-row sm:items-center justify-between">
                <div class="flex items-center space-x-4">
                  <!-- Product Image -->
                  <div class="w-20 h-20 rounded-md overflow-hidden bg-gray-100 flex-shrink-0">
                    {% if order.line_items.first.image %}
                      <img src="{{ order.line_items.first.image | img_url: 'medium' }}" alt="{{ order.line_items.first.title }}" class="w-full h-full object-cover">
                    {% else %}
                      {{ 'product-1' | placeholder_svg_tag: 'w-full h-full object-center object-cover' }}
                    {% endif %}
                  </div>

                  <!-- Order Details -->
                  <div>
                    <h3 class="text-gray-900 font-medium">
                      {{ order.name | link_to: order.customer_url }}
                    </h3>
                    <p class="text-sm text-gray-500 mt-1">
                      {{ order.line_items.first.title | truncate: 40 }}
                    </p>
                    <p class="text-xs text-gray-400 mt-1">
                      Ordered on {{ order.created_at | date: "%b %d, %Y" }}
                    </p>
                  </div>
                </div>

                <!-- Order Info -->
                <div class="text-right mt-4 sm:mt-0">
                  <p class="text-sm font-medium text-gray-800">{{ order.total_price | money }}</p>
                  <p class="text-xs text-gray-500 mt-1">Payment: {{ order.financial_status_label }}</p>
                  <span class="inline-block mt-2 px-3 py-1 text-xs rounded-full font-medium
                    {% if order.fulfillment_status_label == 'Fulfilled' %}
                      bg-green-100 text-green-800
                    {% elsif order.fulfillment_status_label == 'Unfulfilled' %}
                      bg-yellow-100 text-yellow-800
                    {% else %}
                      bg-gray-200 text-gray-800
                    {% endif %}">
                    {{ order.fulfillment_status_label }}
                  </span>
                </div>
              </div>
            {% endfor %}
          </div>

          <div class="mt-6">
            {% render 'pagination', pagination: paginate %}
          </div>
        {% endpaginate %}
      {% else %}
        <div class="flex flex-col items-center justify-center py-12 text-center">
          <img height="" width="" src="https://cdn.shopify.com/s/files/1/0000/0001/files/empty-order.svg" alt="No orders" class="w-28 mb-4 opacity-90">
          <p class="text-gray-600 mb-2">You havenâ€™t placed any orders yet.</p>
          <a href="{{ routes.all_products_collection_url }}" class="px-6 py-2 bg-gray-900 text-white rounded-md text-sm hover:bg-gray-700 transition">
            Browse Products
          </a>
        </div>
      {% endif %}
    </section>

  </div>
</div>
